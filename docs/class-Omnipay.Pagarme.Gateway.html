<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Omnipay\Pagarme\Gateway</title>

	<link rel="stylesheet" href="resources/style.css?e99947befd7bf673c6b43ff75e9e0f170c88a60e">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
				<li class="active">
					<a href="namespace-Omnipay.html">
						Omnipay<span></span>
					</a>

						<ul>
				<li class="active">
					<a href="namespace-Omnipay.Pagarme.html">
						Pagarme<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Omnipay.Pagarme.Message.html">
						Message					</a>

						</li>
							</ul></li></ul></li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li class="active"><a href="class-Omnipay.Pagarme.Gateway.html">Gateway</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-Omnipay.Pagarme.html" title="Summary of Omnipay\Pagarme"><span>Namespace</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class Gateway</h1>


	<div class="description">
	<p>Pagarme Gateway</p>

<p>Example:</p>

<pre><span class="php-comment">// Create a gateway for the Pagarme Gateway</span>
  <span class="php-comment">// (routes to GatewayFactory::create)</span>
  <span class="php-var">$gateway</span> = Omnipay::create(<span class="php-quote">'Pagarme'</span>);

  <span class="php-comment">// Initialise the gateway</span>
  <span class="php-var">$gateway</span>-&gt;initialize(<span class="php-keyword1">array</span>(
      <span class="php-quote">'apiKey'</span> =&gt; <span class="php-quote">'MyApiKey'</span>,
  ));

  <span class="php-comment">// Create a credit card object</span>
  <span class="php-comment">// This card can be used for testing.</span>
  <span class="php-var">$card</span> = <span class="php-keyword1">new</span> CreditCard(<span class="php-keyword1">array</span>(
              <span class="php-quote">'firstName'</span>    =&gt; <span class="php-quote">'Example'</span>,
              <span class="php-quote">'lastName'</span>     =&gt; <span class="php-quote">'Customer'</span>,
              <span class="php-quote">'number'</span>       =&gt; <span class="php-quote">'4242424242424242'</span>,
              <span class="php-quote">'expiryMonth'</span>  =&gt; <span class="php-quote">'01'</span>,
              <span class="php-quote">'expiryYear'</span>   =&gt; <span class="php-quote">'2020'</span>,
              <span class="php-quote">'cvv'</span>          =&gt; <span class="php-quote">'123'</span>,
              <span class="php-quote">'email'</span>                 =&gt; <span class="php-quote">'customer@example.com'</span>,
              <span class="php-quote">'billingAddress1'</span>       =&gt; <span class="php-quote">'1 Scrubby Creek Road'</span>,
              <span class="php-quote">'billingCountry'</span>        =&gt; <span class="php-quote">'AU'</span>,
              <span class="php-quote">'billingCity'</span>           =&gt; <span class="php-quote">'Scrubby Creek'</span>,
              <span class="php-quote">'billingPostcode'</span>       =&gt; <span class="php-quote">'4999'</span>,
              <span class="php-quote">'billingState'</span>          =&gt; <span class="php-quote">'QLD'</span>,
  ));

  <span class="php-comment">// Do a purchase transaction on the gateway</span>
  <span class="php-var">$transaction</span> = <span class="php-var">$gateway</span>-&gt;purchase(<span class="php-keyword1">array</span>(
      <span class="php-quote">'amount'</span>                   =&gt; <span class="php-quote">'10.00'</span>,
      <span class="php-quote">'currency'</span>                 =&gt; <span class="php-quote">'USD'</span>,
      <span class="php-quote">'card'</span>                     =&gt; <span class="php-var">$card</span>,
  ));
  <span class="php-var">$response</span> = <span class="php-var">$transaction</span>-&gt;send();
  <span class="php-keyword1">if</span> (<span class="php-var">$response</span>-&gt;isSuccessful()) {
      <span class="php-keyword1">echo</span> <span class="php-quote">&quot;Purchase transaction was successful!\n&quot;</span>;
      <span class="php-var">$sale_id</span> = <span class="php-var">$response</span>-&gt;getTransactionReference();
      <span class="php-keyword1">echo</span> <span class="php-quote">&quot;Transaction reference = &quot;</span> . <span class="php-var">$sale_id</span> . <span class="php-quote">&quot;\n&quot;</span>;
  }</pre>

<p>Test modes:</p>

<p>Pagarme accounts have test-mode API keys as well as live-mode
API keys. Data created with test-mode credentials will never
hit the credit card networks and will never cost anyone money.</p>

<p>Unlike some gateways, there is no test mode endpoint separate
to the live mode endpoint, the Pagarme API endpoint is the same
for test and for live.</p>

<p>Setting the testMode flag on this gateway has no effect.  To
use test mode just use your test mode API key.</p>

<p>Authentication:</p>

<p>Authentication is by means of a single secret API key set as
the apiKey parameter when creating the gateway object.</p>
	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
Omnipay\Common\AbstractGateway
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by">
<b><span>Omnipay\Pagarme\Gateway</span></b>			
			
			
		</dd>
	</dl>








	<div class="info">
		
		
		<b>Namespace:</b> <a href="namespace-Omnipay.html">Omnipay</a>\<a href="namespace-Omnipay.Pagarme.html">Pagarme</a><br>
		

				<b>See:</b>
				\Omnipay\Common\AbstractGateway<br>
				<b>See:</b>
				<code><a href="class-Omnipay.Pagarme.Message.AbstractRequest.html">Omnipay\Pagarme\Message\AbstractRequest</a></code><br>
				<b>Link:</b>
				<a href="https://docs.pagar.me/">https://docs.pagar.me/</a><br>
			<b>Located at</b> <a href="source-class-Omnipay.Pagarme.Gateway.html#7-262" title="Go to source code">Gateway.php</a>
		<br>
	</div>



	<table class="summary methods" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="getName" id="_getName">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getName">#</a>
		<code><a href="source-class-Omnipay.Pagarme.Gateway.html#77-80" title="Go to source code">getName</a>( )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			







		</div>
		</div></td>
	</tr>
	<tr data-order="getDefaultParameters" id="_getDefaultParameters">

		<td class="attributes"><code>
			 public 

			array
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getDefaultParameters">#</a>
		<code><a href="source-class-Omnipay.Pagarme.Gateway.html#82-92" title="Go to source code">getDefaultParameters</a>( )</code>

		<div class="description short">
			<p>Get the gateway parameters</p>
		</div>

		<div class="description detailed hidden">
			<p>Get the gateway parameters</p>



				<h4>Returns</h4>
				<div class="list">
					array
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getApiKey" id="_getApiKey">

		<td class="attributes"><code>
			 public 

			string
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getApiKey">#</a>
		<code><a href="source-class-Omnipay.Pagarme.Gateway.html#94-105" title="Go to source code">getApiKey</a>( )</code>

		<div class="description short">
			<p>Get the gateway API Key</p>
		</div>

		<div class="description detailed hidden">
			<p>Get the gateway API Key</p>

<p>Authentication is by means of a single secret API key set as
the apiKey parameter when creating the gateway object.</p>



				<h4>Returns</h4>
				<div class="list">
					string
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="setApiKey" id="_setApiKey">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Omnipay.Pagarme.Gateway.html">Omnipay\Pagarme\Gateway</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_setApiKey">#</a>
		<code><a href="source-class-Omnipay.Pagarme.Gateway.html#107-130" title="Go to source code">setApiKey</a>( <span>string <var>$value</var></span> )</code>

		<div class="description short">
			<p>Set the gateway API Key</p>
		</div>

		<div class="description detailed hidden">
			<p>Set the gateway API Key</p>

<p>Authentication is by means of a single secret API key set as
the apiKey parameter when creating the gateway object.</p>

<p>Pagarme accounts have test-mode API keys as well as live-mode
API keys. Data created with test-mode credentials will never
hit the credit card networks and will never cost anyone money.</p>

<p>Unlike some gateways, there is no test mode endpoint separate
to the live mode endpoint, the Stripe API endpoint is the same
for test and for live.</p>

<p>Setting the testMode flag on this gateway has no effect.  To
use test mode just use your test mode API key.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$value</var></dt>
					<dd></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Omnipay.Pagarme.Gateway.html">Omnipay\Pagarme\Gateway</a></code><br>provides a fluent interface.
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="authorize" id="_authorize">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Omnipay.Pagarme.Message.AuthorizeRequest.html">Omnipay\Pagarme\Message\AuthorizeRequest</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_authorize">#</a>
		<code><a href="source-class-Omnipay.Pagarme.Gateway.html#132-156" title="Go to source code">authorize</a>( <span>array <var>$parameters</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			<p>Authorize Request</p>
		</div>

		<div class="description detailed hidden">
			<p>Authorize Request</p>

<p>An Authorize request is similar to a purchase request but the
charge issues an authorization (or pre-authorization), and no money
is transferred.  The transaction will need to be captured later
in order to effect payment. Uncaptured charges expire in 5 days.</p>

<p>Either a customerReference or a card is required. If a customerReference
is passed in then the cardReference must be the reference of a card
assigned to the customer.  Otherwise, if you do not pass a customer ID,
the card you provide must either be a token, like the ones returned by
Stripe.js, or a dictionary containing a user's credit card details.</p>

<p>IN OTHER WORDS: You cannot just pass a card reference into this request,
you must also provide a customer reference if you want to use a stored
card.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$parameters</var></dt>
					<dd></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Omnipay.Pagarme.Message.AuthorizeRequest.html">Omnipay\Pagarme\Message\AuthorizeRequest</a></code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="capture" id="_capture">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Omnipay.Pagarme.Message.CaptureRequest.html">Omnipay\Pagarme\Message\CaptureRequest</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_capture">#</a>
		<code><a href="source-class-Omnipay.Pagarme.Gateway.html#158-169" title="Go to source code">capture</a>( <span>array <var>$parameters</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			<p>Capture Request</p>
		</div>

		<div class="description detailed hidden">
			<p>Capture Request</p>

<p>Use this request to capture and process a previously created authorization.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$parameters</var></dt>
					<dd></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Omnipay.Pagarme.Message.CaptureRequest.html">Omnipay\Pagarme\Message\CaptureRequest</a></code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="purchase" id="_purchase">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Omnipay.Pagarme.Message.PurchaseRequest.html">Omnipay\Pagarme\Message\PurchaseRequest</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_purchase">#</a>
		<code><a href="source-class-Omnipay.Pagarme.Gateway.html#171-195" title="Go to source code">purchase</a>( <span>array <var>$parameters</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			<p>Purchase request.</p>
		</div>

		<div class="description detailed hidden">
			<p>Purchase request.</p>

<p>To charge a credit card, you create a new charge object. If your API key
is in test mode, the supplied card won't actually be charged, though
everything else will occur as if in live mode. (Stripe assumes that the
charge would have completed successfully).</p>

<p>Either a customerReference or a card is required.  If a customerReference
is passed in then the cardReference must be the reference of a card
assigned to the customer.  Otherwise, if you do not pass a customer ID,
the card you provide must either be a token, like the ones returned by
Stripe.js, or a dictionary containing a user's credit card details.</p>

<p>IN OTHER WORDS: You cannot just pass a card reference into this request,
you must also provide a customer reference if you want to use a stored
card.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$parameters</var></dt>
					<dd></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Omnipay.Pagarme.Message.PurchaseRequest.html">Omnipay\Pagarme\Message\PurchaseRequest</a></code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="refund" id="_refund">

		<td class="attributes"><code>
			 public 

			Omnipay\Stripe\Message\RefundRequest
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_refund">#</a>
		<code><a href="source-class-Omnipay.Pagarme.Gateway.html#197-215" title="Go to source code">refund</a>( <span>array <var>$parameters</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			<p>Refund Request</p>
		</div>

		<div class="description detailed hidden">
			<p>Refund Request</p>

<p>When you create a new refund, you must specify a
charge to create it on.</p>

<p>Creating a new refund will refund a charge that has
previously been created but not yet refunded. Funds will
be refunded to the credit or debit card that was originally
charged. The fees you were originally charged are also
refunded.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$parameters</var></dt>
					<dd></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					Omnipay\Stripe\Message\RefundRequest
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="void" id="_void">

		<td class="attributes"><code>
			 public 

			Omnipay\Stripe\Message\VoidRequest
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_void">#</a>
		<code><a href="source-class-Omnipay.Pagarme.Gateway.html#217-226" title="Go to source code">void</a>( <span>array <var>$parameters</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			<p>Fetch Transaction Request</p>
		</div>

		<div class="description detailed hidden">
			<p>Fetch Transaction Request</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$parameters</var></dt>
					<dd></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					Omnipay\Stripe\Message\VoidRequest
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="createCard" id="_createCard">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Omnipay.Pagarme.Message.CreateCardRequest.html">Omnipay\Pagarme\Message\CreateCardRequest</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_createCard">#</a>
		<code><a href="source-class-Omnipay.Pagarme.Gateway.html#228-244" title="Go to source code">createCard</a>( <span>array <var>$parameters</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			<p>Create Card</p>
		</div>

		<div class="description detailed hidden">
			<p>Create Card</p>

<p>This call can be used to create a new card.
If a customerReference is passed in then
a card is added to an existing customer.  If there is no
customerReference passed in then a new customer is created.  The
response in that case will then contain both a customer token
and a card token, and is essentially the same as CreateCustomerRequest</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$parameters</var></dt>
					<dd></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Omnipay.Pagarme.Message.CreateCardRequest.html">Omnipay\Pagarme\Message\CreateCardRequest</a></code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="createCustomer" id="_createCustomer">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Omnipay.Pagarme.Message.CreateCustomerRequest.html">Omnipay\Pagarme\Message\CreateCustomerRequest</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_createCustomer">#</a>
		<code><a href="source-class-Omnipay.Pagarme.Gateway.html#246-261" title="Go to source code">createCustomer</a>( <span>array <var>$parameters</var> = <span class="php-keyword1">array</span>()</span> )</code>

		<div class="description short">
			<p>Create Customer</p>
		</div>

		<div class="description detailed hidden">
			<p>Create Customer</p>

<p>Customer objects allow you to perform recurring charges and
track multiple charges that are associated with the same customer.
The API allows you to create, delete, and update your customers.
You can retrieve individual customers as well as a list of all of
your customers.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$parameters</var></dt>
					<dd></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Omnipay.Pagarme.Message.CreateCustomerRequest.html">Omnipay\Pagarme\Message\CreateCustomerRequest</a></code>
				</div>




		</div>
		</div></td>
	</tr>
	</table>


















</div>

	<div id="footer">
		 API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
